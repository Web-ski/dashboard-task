(this["webpackJsonpdashboard-recruitment-task"]=this["webpackJsonpdashboard-recruitment-task"]||[]).push([[0],{57:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),s=n.n(a),i=n(10),l=n(26),d=n(48),o=n(19),j={users:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case"ADD_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:n.users});case"NEW_USER":return Object(o.a)(Object(o.a)({},e),{},{users:[].concat(Object(d.a)(e.users),[n.newUser])});case"REMOVE_USER":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.filter((function(e){return e.id!==n.idUser}))});case"UPLOAD_USER":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===n.userData.id?n.userData:e}))});default:return e}},b=Object(l.b)(u,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=(n(57),n(13)),O=(n(58),n(20)),m=n.n(O),x=n(18),f=n(6),p=n(1),g={minHeight:"100vh",padding:"40px"},y=function(e){var t=e.children;return Object(p.jsx)("div",{style:g,children:t})},v=n(28),E=n(17),S=n(16),U=n(47),w="https://jsonplaceholder.typicode.com/users",D=Object(i.b)(null,(function(e){return{removeUser:function(t){return e(function(e){return{type:"REMOVE_USER",payload:{idUser:e}}}(t))}}}))((function(e){var t,n=e.user,c=e.removeUser,a=Object(r.useState)(!1),s=Object(h.a)(a,2),i=s[0],l=s[1],d=function(){return l(!i)},o={position:"absolute",top:"0",right:"-10px",minWidth:"max-content",backgroundColor:"white",transition:".3s",display:"".concat(i?"flex":"none"),flexDirection:"column",alignItems:"stretch",justifyContent:"center",zIndex:"99",boxShadow:"0 0 10px rgba(0,0,0,0.2)",border:"solid 2px rgba(0,0,0,.9)",borderRadius:"5px"};return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:n.id}),Object(p.jsx)("td",{children:n.name}),Object(p.jsx)("td",{children:n.username}),Object(p.jsx)("td",{children:n.email}),Object(p.jsx)("td",{children:(t=n.address,t.city)}),Object(p.jsx)("td",{children:Object(p.jsx)(S.a,{as:x.b,to:"/user/".concat(n.id),variant:"warning",children:"edit"})}),Object(p.jsxs)("td",{style:{position:"relative"},children:[Object(p.jsx)(S.a,{variant:"danger",onClick:d,children:"delete"}),Object(p.jsxs)("section",{style:o,children:[Object(p.jsx)("div",{style:{padding:"15px 20px 10px",backgroundColor:"black",color:"white"},children:Object(p.jsx)("h6",{children:"Are you sure you want to delete the user?"})}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",minWidth:"max-content",margin:"15px"},children:[Object(p.jsx)(S.a,{variant:"dark",onClick:d,children:"No! Exit"}),Object(p.jsx)(S.a,{variant:"danger",onClick:function(){return m.a.delete("".concat(w,"/").concat(n.id)).then((function(e){console.log(e)})).catch((function(e){console.error(e)})),void c(n.id)},children:"Yes. Delete"})]})]})]})]})})),_=Object(i.b)((function(e){return{users:e.users}}))((function(e){var t=e.users;return Object(p.jsxs)(U.a,{bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"id"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"Name"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"Username"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"Email"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"City"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"Edit"}),Object(p.jsx)("th",{style:{verticalAlign:"middle"},children:"Delete"})]})}),Object(p.jsx)("tbody",{children:t&&t.map((function(e){return Object(p.jsx)(D,{user:e},e.id)}))}),(!t||0===t.length)&&Object(p.jsx)("caption",{style:{textAlign:"center"},children:"The list of users is empty. Add new user."})]})})),C={display:"flex",justifyContent:"space-between"},A=function(){return Object(p.jsx)(y,{children:Object(p.jsxs)(v.a,{children:[Object(p.jsx)("h1",{children:"Dashboard"}),Object(p.jsxs)(E.a,{style:{minWidth:"min-content"},children:[Object(p.jsxs)(E.a.Header,{style:C,children:[Object(p.jsx)(E.a.Title,{style:{marginBottom:"0",lineHeight:"2"},children:"User list"})," ",Object(p.jsx)(S.a,{variant:"primary",as:x.b,to:"/user/new",children:"Add new"})]}),Object(p.jsx)(E.a.Body,{children:Object(p.jsx)(_,{})})]})]})})},k=n(12),N=n(35),R=n(23),T=function(e){var t=[0];e.map((function(e){return t.push(parseInt(e.id))}));return Math.max.apply(Math,t)+1},L={display:"flex",justifyContent:"center"},I=Object(i.b)((function(e){return{users:e.users}}),(function(e){return{addNewUser:function(t){return e(function(e){return{type:"NEW_USER",payload:{newUser:e}}}(t))},changeUserData:function(t){return e(function(e){return{type:"UPLOAD_USER",payload:{userData:e}}}(t))}}}))((function(e){var t=e.user,n=e.users,c=e.addNewUser,a=e.changeUserData,s=Object(r.useState)(!1),i=Object(h.a)(s,2),l=i[0],d=i[1],o=Object(r.useState)({name:"",email:""}),j=Object(h.a)(o,2),u=j[0],b=j[1],O=Object(r.useState)(!1),g=Object(h.a)(O,2),y=g[0],v=g[1],E=Object(r.useState)(!1),U=Object(h.a)(E,2),D=U[0],_=U[1],C=function(e){"name"===e.target.name&&b({name:e.target.value,email:u.email}),"email"===e.target.name&&b({name:u.name,email:e.target.value})};return Object(p.jsx)(p.Fragment,{children:l?Object(p.jsx)(f.a,{to:"/"}):Object(p.jsxs)(k.a,{onSubmit:function(e){if(e.preventDefault(),0===u.name.length)v(!0);else if(0===u.email.length)_(!0);else{var r;v(!1),_(!1),r=t?{id:t.id,name:u.name,email:u.email,username:t.username,address:t.address}:{id:T(n),name:u.name,email:u.email,username:"",address:{city:""}},t?a(r):c(r),t?m.a.put("".concat(w,"/").concat(t.id),{name:u.name,email:u.email}).then((function(e){d(!0),console.log(e)})).catch((function(e){console.error(e),alert("Something has gone wrong!")})):m.a.post(w,r).then((function(e){d(!0),console.log(e)})).catch((function(e){console.error(e),alert("Something has gone wrong!")}))}},children:[Object(p.jsxs)(k.a.Group,{as:N.a,controlId:"formName",children:[Object(p.jsx)(k.a.Label,{column:!0,sm:"2",children:"Name"}),Object(p.jsxs)(R.a,{sm:"10",children:[Object(p.jsx)(k.a.Control,{name:"name",type:"text",placeholder:t?t.name:"Name",onChange:C,minLength:"3",maxLength:"30"}),Object(p.jsx)(k.a.Text,{muted:!0,children:"Your name must be 3-30 characters long."}),y&&Object(p.jsx)(k.a.Text,{style:{color:"red"},children:"Please fill in the field."})]})]}),Object(p.jsxs)(k.a.Group,{as:N.a,controlId:"formEmail",children:[Object(p.jsx)(k.a.Label,{column:!0,sm:"2",children:"Email address"}),Object(p.jsxs)(R.a,{sm:"10",children:[Object(p.jsx)(k.a.Control,{name:"email",type:"email",placeholder:t?t.email:"Email",onChange:C}),D&&Object(p.jsx)(k.a.Text,{style:{color:"red"},children:"Please fill in the field."})," "]})]}),Object(p.jsxs)(k.a.Group,{style:L,children:[Object(p.jsxs)(x.b,{to:"/",style:{margin:"10px"},children:[" ",Object(p.jsx)(S.a,{variant:"outline-danger",children:"Cancel"})]}),Object(p.jsx)(S.a,{variant:"success",type:"submit",style:{margin:"10px"},children:"Submit"})]})]})})})),B=Object(i.b)((function(e){return{users:e.users}}))((function(e){var t=e.users,n=Object(f.g)().id,c=Object(r.useState)(),a=Object(h.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){var e=t.filter((function(e){return e.id.toString()===n&&e}));i(e[0])}),[t,n]),Object(p.jsx)(y,{children:Object(p.jsxs)(v.a,{fluid:!0,children:[Object(p.jsx)("h1",{children:"Dashboard"}),Object(p.jsxs)(E.a,{children:[Object(p.jsx)(E.a.Header,{children:Object(p.jsx)(E.a.Title,{style:{marginBottom:"0",lineHeight:"2"},children:"Form"})}),Object(p.jsx)(E.a.Body,{children:Object(p.jsx)(I,{user:s})})]})]})})})),F=Object(i.b)(null,(function(e){return{addUsers:function(t){return e(function(e){return{type:"ADD_USERS",payload:{users:e}}}(t))}}}))((function(e){var t=Object(r.useState)(),n=Object(h.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){m.a.get("https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data").then((function(e){a(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(r.useEffect)((function(){e.addUsers(c)}),[e,c]),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(x.a,{basename:"/dashboard-task",children:Object(p.jsxs)(f.d,{children:[Object(p.jsx)(f.b,{path:"/user/:id",children:Object(p.jsx)(B,{})}),Object(p.jsx)(f.b,{path:"/user/new",children:Object(p.jsx)(B,{})}),Object(p.jsx)(f.b,{exact:!0,path:"/",children:Object(p.jsx)(A,{})})]})})})})),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(i.a,{store:b,children:Object(p.jsx)(F,{})})}),document.getElementById("root")),P()}},[[80,1,2]]]);
//# sourceMappingURL=main.ebbf32df.chunk.js.map